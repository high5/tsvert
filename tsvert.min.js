/**
 * tsvert - a tsv converter
 * Copyright (c) high5@github. (MIT Licensed)
 * https://github.com/high5/tsvert
 */
(function(){function e(e){for(var n,t,r=1;r<arguments.length;r++){n=arguments[r];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}function n(t,o){var u=e({},n.defaults,u||{});""!=u.header&&(t=u.header+"\n"+t);for(var h=t.replace(/\r/g,"").split("\n"),c=[],N="",g=h[0].split("	"),f=1;f<h.length;f++){for(var p={},b=h[f].split("	"),d=0;d<g.length;d++)p[g[d]]=b[d];c.push(p)}switch(o){case"sql":N=r(c,u);break;case"json":N=l(c,u);break;case"php":N=a(c,u);break;case"python":N=s(c,u);break;case"ruby":N=i(c,u)}return N}function t(e,n){var t=isNaN(n)?"'":"",r="";return"string"==typeof n&&0==n.length?t="'":"const"==e||"constant"==e?t="":"str"==e||"string"==e?t="'":("flex"==e||"flexible"==e)&&(t=isNaN(n)?"'":"",0==n.length&&(t="'"),""!=t&&(r=n.toLowerCase(),("null"==r||"true"==r||"false"==r)&&(t=""))),t}function r(e,n){for(var r="",l=n.html===!0?"<br>":"\n",a=""===n.sqlTableName?"table":n.sqlTableName,s=0;s<e.length;s++){var i=e[s],o="",u="",h=0;r+=n.sqlBulkInsert===!0&&0!==s?",":"INSERT INTO "+a;for(var c in i){var N=c,g=i[c],f="",p="",b=c.split(":");2==b.length&&2!=c.split("\\:").length&&(N=b[0],f=b[1].toLowerCase(),("num"==f||"number"==f)&&(g=isNaN(g)?0:parseFloat(g),isNaN(g)&&(g=0)),"const"!=f&&"constant"!=f||0!=g.length||(g="UNDEFINED")),p=t(f,g),2==c.split("\\:").length&&(N=N.replace("\\","")),h++,o+=N,u+=p+g+p,h!=Object.keys(i).length&&(o+=", ",u+=", ")}r+="("+o+") VALUES("+u+")",n.sqlBulkInsert===!0?s==e.length-1&&(r+=";"):r+=";",s!=e.length-1&&(r+=l)}return r}function l(e,n){var r="",l=n.html===!0?"<br>":"\n";r+="["+l;for(var a=0;a<e.length;a++){var s=e[a],i="",o=0;r+=n.useRowNumberKey===!0?'  "'+(a+1)+'": {':"  {",n.indent===!0&&(i+=l);for(var u in s){var h=u,c=s[u],N="",g="",f=u.split(":");2==f.length&&2!=u.split("\\:").length&&(h=f[0],N=f[1].toLowerCase(),("num"==N||"number"==N)&&(c=isNaN(c)?0:parseFloat(c),isNaN(c)&&(c=0)),"const"!=N&&"constant"!=N||0!=c.length||(c="UNDEFINED")),g=t(N,c),""!=g&&(g='"'),2==u.split("\\:").length&&(h=h.replace("\\","")),o++,n.indent===!0&&(i+="    "),i+='"'+h+'": '+g+c+g,o!=Object.keys(s).length&&(i+=1!=n.indent?", ":","),n.indent===!0&&(i+=l)}r+=n.indent===!0?i+"  }":i+"}",a!=e.length-1&&(r+=","),r+=l}return r+="];"}function a(e,n){var r="",l=n.html===!0?"<br>":"\n";r+="array("+l;for(var a=0;a<e.length;a++){var s=e[a],i="",o=0;r+=n.useRowNumberKey===!0?"  "+(a+1)+" => array(":"  array(",n.indent===!0&&(i+=l);for(var u in s){var h=u,c=s[u],N="",g="",f=u.split(":");2==f.length&&2!=u.split("\\:").length&&(h=f[0],N=f[1].toLowerCase(),("num"==N||"number"==N)&&(c=isNaN(c)?0:parseFloat(c),isNaN(c)&&(c=0)),"const"!=N&&"constant"!=N||0!=c.length||(c="UNDEFINED")),g=t(N,c),2==u.split("\\:").length&&(h=h.replace("\\","")),o++,n.indent===!0&&(i+="    "),i+="'"+h+"' => "+g+c+g,o!=Object.keys(s).length&&(i+=1!=n.indent?", ":","),n.indent===!0&&(i+=l)}r+=n.indent===!0?i+"  )":i+")",a!=e.length-1&&(r+=","),r+=l}return r+=");"}function s(e,n){var r="",l=n.html===!0?"<br>":"\n";r+=n.useRowNumberKey===!0?"{"+l:"["+l;for(var a=0;a<e.length;a++){var s=e[a],i="",o=0;r+=n.useRowNumberKey===!0?"  "+(a+1)+": {":"  {",n.indent===!0&&(i+=l);for(var u in s){var h=u,c=s[u],N="",g="",f=u.split(":");2==f.length&&2!=u.split("\\:").length&&(h=f[0],N=f[1].toLowerCase(),("num"==N||"number"==N)&&(c=isNaN(c)?0:parseFloat(c),isNaN(c)&&(c=0)),"const"!=N&&"constant"!=N||0!=c.length||(c="UNDEFINED")),g=t(N,c),""!=g&&(g='"'),2==u.split("\\:").length&&(h=h.replace("\\","")),o++,n.indent===!0&&(i+="    ");var p='"'+h+'"';i+=p+": "+g+c+g,o!=Object.keys(s).length&&(i+=1!=n.indent?", ":","),n.indent===!0&&(i+=l)}r+=n.indent===!0?i+"  }":i+"}",a!=e.length-1&&(r+=","),r+=l}return r+=n.useRowNumberKey===!0?"}":"]"}function i(e,n){var r="",l=n.html===!0?"<br>":"\n";r+=n.useRowNumberKey===!0?"{"+l:"["+l;for(var a=0;a<e.length;a++){var s=e[a],i="",o=0;r+=n.useRowNumberKey===!0?"  "+(a+1)+" => {":"  {",n.indent===!0&&(i+=l);for(var u in s){var h=u,c=s[u],N="",g="",f=u.split(":");2==f.length&&2!=u.split("\\:").length&&(h=f[0],N=f[1].toLowerCase(),("num"==N||"number"==N)&&(c=isNaN(c)?0:parseFloat(c),isNaN(c)&&(c=0)),"const"!=N&&"constant"!=N||0!=c.length||(c="UNDEFINED")),g=t(N,c),""!=g&&(g='"'),2==u.split("\\:").length&&(h=h.replace("\\","")),o++,n.indent===!0&&(i+="    ");var p=n.rubySymbolKey?":"+h:'"'+h+'"';i+=p+" => "+g+c+g,o!=Object.keys(s).length&&(i+=1!=n.indent?", ":","),n.indent===!0&&(i+=l)}r+=n.indent===!0?i+"  }":i+"}",a!=e.length-1&&(r+=","),r+=l}return r+=n.useRowNumberKey===!0?"}":"]"}n.options=n.setOptions=function(t){return 0==Object.keys(n.initials)&&e(n.initials,n.defaults),e(n.defaults,t),n},n.initializeOptions=function(){return e(n.defaults,n.initials),n},n.initials={},n.defaults={html:!1,indent:!1,sqlBulkInsert:!1,sqlTableName:"",rubySymbolKey:!0,useRowNumberKey:!1,header:""},"undefined"!=typeof module&&"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):this.tsvert=n}).call(function(){return this||("undefined"!=typeof window?window:global)}());